<!DOCTYPE html>
<html lang="es">

<head>
    <title>{{ .Work.Titulo }} - Admin Vigo360</title>
    {{ template "_admin-head.html" . }}
</head>

<body>
{{ template "_admin-header.html" . }}
<main id="post-editor">
    <h2>Editor de artículos</h2>
    <form method="post" enctype="multipart/form-data">
        <div class="form-column">
            <div class="form-row">
                <label for="art-titulo">Título del trabajo</label>
                <input type="text" name="art-titulo" id="art-titulo" placeholder="Trabajo interesante" maxlength="80"
                       required value="{{ .Work.Titulo }}">
                <label for="art-resumen">Resumen del trabajo</label>
                <input type="text" name="art-resumen" id="art-resumen"
                       placeholder="Trabajo muy interesante sobre un tema nunca antes estudiado"
                       maxlength="300" value="{{ .Work.Resumen }}" required>
                <label for="art-contenido">Contenido del trabajo</label>
                <textarea rows="15" name="art-contenido" id="art-contenido" placeholder="Contenido del trabajo"
                          required>{{ .Work.Contenido }}</textarea>
            </div>
            <section class="form-row">
                <label for="portada_actual">Foto de portada</label>
                <img id="portada_actual" src="/static/thumb/{{ .Work.Id }}.jpg" height="224px" width="400px"
                     alt="Foto de portada actual"/>
                <input type="file" id="portada" name="portada" accept="image/png, image/jpeg, image/webp">
                <p>
                    Debe tener una relación de aspecto 16:9, ser menor de 20 MB y
                    estar en formato PNG, JPG o WebP. Si no se selecciona ninguna, se conservará la
                    actual.
                </p>

                <label for="alt_portada">Texto alternativo de portada</label>
                <textarea rows="3" id="alt_portada" name="alt-portada" maxlength="300" required>{{- .Post.Alt_portada }}</textarea>
                {{ if eq .Post.Fecha_publicacion "" }}
                    <hr>
                    <div>
                        <input type="checkbox" name="publicar" id="publicar">
                        <label for="publicar">Publicar (irreversible)</label>
                    </div>
                {{ end }}
            </section>
        </div>

        <input type="hidden" name="work-id" value="{{ .Post.Id }}">

        <div class="submit-buttons">
            <button name="salir" value="false" type="submit" class="button button-primary-outline">Guardar y seguir
                editando
            </button>
            <button name="salir" value="true" type="submit" class="button button-primary">Guardar y salir</button>
        </div>

    </form>
</main>
{{ template "_admin-footer.html" . }}
<script src="/static/editor-portada.js"></script>
</body>

</html>
