<!DOCTYPE html>
<html lang="es-ES">

<head>
    {{- template "_head.html" . }}

    <link rel="alternate" type="application/atom+xml" href="/atom.xml"/>

    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@type": "WebPage",
            "publisher": {
                "@type": "Organization",
                "name": "Vigo360",
                "url": "https://vigo360.es",
                "email": "vigo360@costas.dev",
                "logo": {
                    "@type": "ImageObject",
                    "url": "https://vigo360.es/static/logo.webp",
                    "width": 400,
                    "height": 400
                }
            },
            "headline": "Vigo360",
            "description": "Un proyecto dedicado a estudiar varios aspectos de la ciudad de Vigo (España) y su área de influencia, centrándose en la toponimia y el transporte.",
            "inLanguage": "es-ES",
            "url": "https://vigo360.es/"
        }

    </script>
</head>

<body>
{{ template "_header.html" }}
<main>
    <section id="frontpage-articles">
        {{ $page := .CurrentPage }}
        {{- range $i, $post := .Posts }}
            <a href="/post/{{ $post.Id }}" {{ if and (eq $page 1) (eq $i 0) }}class="primero" {{ end }}>
                <picture class="user-article-thumbnail">
                    <source srcset="/static/images/{{ $post.Id}}.webp" type="image/webp"
                            title="{{ $post.Alt_portada }}"/>
                    <img src="/static/thumb/{{ $post.Id }}.jpg"
                         alt="{{ $post.Alt_portada }}" title="{{ $post.Alt_portada }}"/>
                </picture>
                <div class="article-info">
                    <p class="article-author">
                        {{ $post.Autor.Nombre }} - {{ dateDayMonth $post.Fecha_publicacion }}
                    </p>
                    <h2 class="article-title">{{ $post.Titulo }}</h2>
                    <p class="article-summary">
                        {{ $post.Resumen }}
                    </p>
                </div>
            </a>
        {{- end }}
    </section>

    <section id="pager" role="doc-pagelist">
        <a title="Primera página" {{ if gt .CurrentPage 1 }}href="?page=1"{{ end }}>&laquo;</a>
        <a title="Página anterior" {{ if gt .CurrentPage 1 }}href="?page={{ sub .CurrentPage 1 }}"{{end}}>&lsaquo;</a>
        <b title="Página actual ({{ .CurrentPage }})">{{ .CurrentPage }}</b>
        <a title="Página siguiente" {{ if lt .CurrentPage .PageCount }}href="?page={{ sum .CurrentPage 1 }}"{{end}}>&rsaquo;</a>
        <a title="Última página" {{ if lt .CurrentPage .PageCount }}href="?page={{ .PageCount }}"{{end}}>&raquo;</a>
    </section>
</main>
{{ template "_footer.html" }}
</body>

</html>
